var ImagesDownloader=function(){function o(o,t,n){this._urlsLength=0,this._urlsDownloaded=[],this._urlIndexDownloaded=0,this._pauseDownload=!1,o&&o instanceof Array&&(this._urls=o,this._urlsLength=o.length),this.isFunction(t)&&(this._urlDownloaded=t),this._allUrlsDownloaded={},this.isFunction(n)&&(this._allUrlsDownloaded=n)}return o.prototype.start=function(){this._pauseDownload=!1,this._urlsLength>0&&this.downloadImage()},o.prototype.pause=function(){this._pauseDownload=!0},o.prototype.resume=function(){this._pauseDownload=!1},Object.defineProperty(o.prototype,"images",{get:function(){return this._urls},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"downloadedImages",{get:function(){return this._urlsDownloaded},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"urlCurrentlyDownloaded",{get:function(){return this._urls[this._urlIndexDownloaded]},enumerable:!0,configurable:!0}),o.prototype.isFunction=function(o){return o&&"function"==typeof o},o.prototype.downloadImage=function(){var o=new Image;o.onload=this.onDownloadComplete.bind(this),o.src=this.urlCurrentlyDownloaded},o.prototype.onDownloadComplete=function(){this._urlsDownloaded.push(this.urlCurrentlyDownloaded),this.isFunction(this._urlDownloaded)&&this._urlDownloaded(this.urlCurrentlyDownloaded),!1===this._pauseDownload&&(this._urlIndexDownloaded++,this._urlsLength>=this._urlIndexDownloaded+1?this.downloadImage():this.isFunction(this._allUrlsDownloaded)&&this._allUrlsDownloaded())},o}();